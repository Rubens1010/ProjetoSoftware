<!DOCTYPE html>
<html lang="en">
<head>
  {% load static %}
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dashboard</title>
  <link rel="icon" href="{% static 'img/logo3.png' %}">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
    crossorigin="anonymous"></script>
  <script src="{% static 'js/bootstrap.min.js' %}"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>



<!-- Fontawesome -->
<link type="text/css" href="https://appsrv1-147a1.kxcdn.com/volt-dashboard/vendor/@fortawesome/fontawesome-free/css/all.min.css" rel="stylesheet">


<!-- Volt CSS -->
<link type="text/css" href="https://appsrv1-147a1.kxcdn.com/volt-dashboard/css/volt.css" rel="stylesheet">

  
<style>
.calculator {
    width: 100%;
    background-color: #f5f5f5;
    border-radius: 10px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
}

.calculator-display {
    width: 100%;
    height: 60px;
    background-color: #333;
    color: white;
    font-size: 24px;
    text-align: right;
    padding: 10px;
    border-radius: 5px;
    margin-bottom: 10px;
}

.calculator .row {
    margin: 0;
    display: flex;
    flex-wrap: nowrap;
}

.calculator button {
    flex: 1;
    height: 60px;
    margin: 3px;
    font-size: 18px;
    border-radius: 10px;
}

.calculator .btn-operation {
    background-color: #ff9500;
    color: white;
}

.calculator .btn-number {
    background-color: #333;
    color: white;
}

.calculator .btn-equal {
    background-color: #ff9500;
    color: white;
}
</style>
</head>

<body>

  <nav class="navbar navbar-dark navbar-theme-primary px-4 col-12 d-md-none">
      <a class="navbar-brand mr-lg-5" href="/">
          <img class="navbar-brand-dark" src="{% static '/img/assets/images/favicon.svg' %}" alt="Volt logo">
      </a>
      <div class="d-flex align-items-center">
          <button class="navbar-toggler d-md-none collapsed" type="button" data-toggle="collapse" data-target="#sidebarMenu" aria-controls="sidebarMenu" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
          </button>
      </div>
  </nav>

  <div class="container-fluid bg-soft">
      <div class="row">
          <div class="col-12">

              
  <nav id="sidebarMenu" class="sidebar d-md-block bg-primary text-white collapse px-4">
      <div class="sidebar-sticky pt-3 mx-auto">
          <div class="user-card d-flex d-md-none align-items-center justify-content-between justify-content-md-center pb-4">
          <div class="d-flex align-items-center">
              <div class="user-avatar lg-avatar mr-4">
              <img src="https://cdn-icons-png.flaticon.com/512/149/149071.png" class="card-img-top rounded-circle border-white" alt="Bonnie Green">
              </div>
              <div class="d-block">
              <h2 class="h6">
                  test
              </h2>
              <a href="{% url 'user-logout' %}" class="btn btn-secondary text-dark btn-xs">
                  <span class="mr-2"><span class="fas fa-sign-out-alt"></span></span>Sign Out</a>
              </div>
          </div>
          <div class="collapse-close d-md-none">
              <a href="#sidebarMenu" class="fas fa-times" data-toggle="collapse" data-target="#sidebarMenu" aria-controls="sidebarMenu" aria-expanded="true" aria-label="Toggle navigation"></a>
          </div>
          </div>
          <ul class="nav flex-column">
          <li class="nav-item   active ">
              <a href="#" class="nav-link">
              <span class="sidebar-icon"><span class="fas fa-chart-pie"></span></span>
              <span>Dashboard</span>
              </a>
          </li>
          <li class="nav-item  ">
              <a href="{% url 'finance' %}" class="nav-link">
                  <span class="sidebar-icon"><span class="fas fa-hand-holding-usd"></span></span>
                  <span>Finanças</span>
              </a>
          </li>
          <li class="nav-item  ">
              <a href="/settings.html" class="nav-link">
                  <span class="sidebar-icon"><span class="fas fa-cog"></span></span>
                  <span>Settings</span>
              </a>
          </li>
          <li class="nav-item">
              <span class="nav-link  collapsed  d-flex justify-content-between align-items-center" data-toggle="collapse" data-target="#submenu-app">
              <span>
                  <span class="sidebar-icon"><span class="fas fa-table"></span></span> 
                  Tables
              </span>
              <span class="link-arrow"><span class="fas fa-chevron-right"></span></span> 
              </span>
              <div class="multi-level collapse " role="list" id="submenu-app" aria-expanded="false">
                  <ul class="flex-column nav">
                      <li class="nav-item "><a class="nav-link" href="/bootstrap-tables.html"><span>Bootstrap Tables</span></a></li>
                  </ul>
              </div>
          </li>
          <li class="nav-item">
              <a href="{% url 'user-logout' %}" class="nav-link">
                  <span class="sidebar-icon"><span class="fas fa-sign-out-alt text-danger"></span></span>
                  <span>Logout</span>
              </a>
          </li>            
          <li role="separator" class="dropdown-divider mt-4 mb-3 border-black"></li>
          <li class="nav-item">
              <a href="/" class="nav-link d-flex align-items-center">
              <span class="sidebar-icon">
                  <img src="{% static '/img/assets/images/favicon.svg' %}" height="20" width="20" alt="Volt Logo">
              </span>
              <span class="mt-1">Presentation</span>
              </a>
          </li>
          </ul>
      </div>
  </nav>


          
              

  <main class="content">   
      <nav class="navbar navbar-top navbar-expand navbar-dashboard navbar-dark pl-0 pr-2 pb-0">
          <div class="container-fluid px-0">
            <div class="d-flex justify-content-between w-100" id="navbarSupportedContent">
              <div class="d-flex">
                <!-- Search form -->
                <form class="navbar-search form-inline" id="navbar-search-main">
                  <div class="input-group input-group-merge search-bar">
                      <span class="input-group-text" id="topbar-addon"><span class="fas fa-search"></span></span>
                      <input type="text" class="form-control" id="topbarInputIconLeft" placeholder="Search" aria-label="Search" aria-describedby="topbar-addon">
                  </div>
                </form>
              </div>
              <!-- Navbar links -->
              <ul class="navbar-nav align-items-center">  
                <li class="nav-item dropdown">
                  <a class="nav-link pt-1 px-0" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    <div class="media d-flex align-items-center">
                      <img class="user-avatar md-avatar rounded-circle" alt="Image placeholder" src="https://cdn-icons-png.flaticon.com/512/149/149071.png">
                      <div class="media-body ml-2 text-dark align-items-center d-none d-lg-block">
                        <span class="mb-0 font-small font-weight-bold">
                          olá {{ request.user}}!
                        </span>
                      </div>
                    </div>
                  </a>
                  <div class="dropdown-menu dashboard-dropdown dropdown-menu-right mt-2">
                    <a class="dropdown-item font-weight-bold" href="/settings.html"><span class="fas fa-cog"></span>Settings</a>
                    <div role="separator" class="dropdown-divider"></div>
                    <a class="dropdown-item font-weight-bold" href="{% url 'user-logout' %}">
                        <span class="fas fa-sign-out-alt text-danger"></span>Logout</a>
                  </div>
                </li>
              </ul>
            </div>
          </div>
      </nav>

      <div class="container mt-5 text-center">
        <!-- Modal Calculadora-->
        <div class="modal fade" id="calculadoraModal" tabindex="-1" role="dialog" aria-labelledby="calculadoraModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="calculadoraModalLabel">Calculadora</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div class="calculator">
                            <div id="display" class="calculator-display">0</div>
                            <div class="row" style="width: 100%;">
                                <button class="btn btn-operation" onclick="clearDisplay()">C</button>
                                <button class="btn btn-operation" onclick="chooseOperation('subtracao')">-</button>
                                <button class="btn btn-operation" onclick="chooseOperation('multiplicacao')">x</button>
                                <button class="btn btn-operation" onclick="chooseOperation('divisao')">/</button>
                            </div>
                            <div class="row">
                                <button class="btn btn-number" onclick="appendNumber(7)">7</button>
                                <button class="btn btn-number" onclick="appendNumber(8)">8</button>
                                <button class="btn btn-number" onclick="appendNumber(9)">9</button>
                                
                            </div>
                            <div class="row">
                                <button class="btn btn-number" onclick="appendNumber(4)">4</button>
                                <button class="btn btn-number" onclick="appendNumber(5)">5</button>
                                <button class="btn btn-number" onclick="appendNumber(6)">6</button>
                                
                            </div>
                            <div class="row">
                                <button class="btn btn-number" onclick="appendNumber(1)">1</button>
                                <button class="btn btn-number" onclick="appendNumber(2)">2</button>
                                <button class="btn btn-number" onclick="appendNumber(3)">3</button>
                                
                            </div>
                            <div class="row">
                                <button class="btn btn-operation" onclick="chooseOperation('soma')">+</button>
                                <button class="btn btn-number" onclick="appendNumber(0)">0</button>  
                                <button class="btn btn-equal" onclick="compute()">=</button>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Fechar</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

      <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center py-4">
          <div class="btn-toolbar dropdown">
              <button class="btn btn-primary btn-sm mr-2 dropdown-toggle" data-toggle="modal" data-target="#calculadoraModal">
                  <span class="fas fa-plus mr-2"></span>Calculadora
              </button>
          </div>
             <!-- Adicionar % na calculadora -->
          
          <div class="btn-group">
            <button type="button" class="btn btn-success" data-bs-toggle="modal" data-bs-target="#staticBackdrop">
              Adicionar Saldos
          </button>
          
          <!-- Modal -->
          <div class="modal fade " id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
              <div class="modal-dialog">
              <div class="modal-content">
                  <div class="modal-header">
                  <h1 class="modal-title fs-5" id="staticBackdropLabel">Adicionar entradas</h1>
                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                  </div>
                  <div class="modal-body">
                      <form method="POST" action="{% url 'update_value' %}">
                          {% csrf_token %}
                          <div class="mb-3">
                              <label for="monthlyEarnings" class="form-label">Enter Monthly Earnings</label>
                              <input type="text" class="form-control" id="monthlyEarnings" name="monthlyEarnings" required maxlength="8" pattern="\d*">
                            </div>
                          <div class="mb-3">
                              <label for="date" class="form-label">Date</label>
                              <input type="date" class="form-control" id="date" name="date" required>
                          </div>
                          <div class="mb-3">
                            <label for="description" class="form-label">Descrição</label>
                            <input type="text" class="form-control" id="description" name="description" required>
                        </div>
                          <button type="submit" class="btn btn-success">Adicionar Saldos</button>
                      </form>
                  </div>
                  <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                  </div>
              </div>
              </div>
          </div>
          <!-- Button trigger modal -->
          <button type="button" class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#staticBackdrop2">
              Adicionar Gastos
          </button>
          
          <!-- Modal -->
          <div class="modal fade " id="staticBackdrop2" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
              <div class="modal-dialog">
              <div class="modal-content">
                  <div class="modal-header">
                  <h1 class="modal-title fs-5" id="staticBackdropLabel">Adicionar Saidas</h1>
                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                  </div>
                  <div class="modal-body">
                      <!-- Formulário para subtrair valor -->
                      <form method="POST" action="{% url 'subtract_value' %}">
                          {% csrf_token %}
                          <div class="mb-3">
                              <label for="monthlyExpense" class="form-label">Monthly Expense:</label>
                              <input type="number" step="0.01" class="form-control" id="monthlyExpense" name="monthlyExpense" required>
                          </div>
                          <div class="mb-3">
                              <label for="date" class="form-label">Date</label>
                              <input type="date" class="form-control" id="date" name="date" required>
                          </div>
                          <div class="mb-3">
                            <label for="description" class="form-label">Descrição</label>
                            <input type="text" class="form-control" id="description" name="description" required>
                        </div>
                          <button type="submit" class="btn btn-danger">Adicionar Gastos</button>
                      </form>
                  </div>
                  <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                  </div>
              </div>
              </div>
          </div>    
          </div>
      </div>
      <div class="row justify-content-md-center">
          <div class="col-12 mb-4">
              <div class="card bg-yellow-alt shadow-sm">
                  <div class="card-header d-flex flex-row align-items-center flex-0">
                      <div class="d-block">
                          <div class="h5 font-weight-normal mb-2">Value</div>
                          <h2 class="h3">${{ difference }}</h2>
                          <div class="small mt-2"> 
                              <span class="font-weight-bold mr-2">Yesterday</span>                              
                              <span class="fas fa-angle-up text-success"></span>                                   
                              <span class="text-success font-weight-bold">10.57%</span>
                          </div>
                      </div>
                      <div class="d-flex ml-auto">
                          <a href="#" class="btn btn-secondary text-dark btn-sm mr-2">Month</a>
                          <a href="#" class="btn btn-primary btn-sm mr-3">Week</a>
                      </div>
                  </div>
                  <div class="card-body p-2">
                      <div class="ct-chart-sales-value ct-double-octave ct-series-g"><div class="chartist-tooltip"></div><svg xmlns:ct="http://gionkunz.github.com/chartist-js/ct" width="100%" height="100%" class="ct-chart-line" style="width: 100%; height: 100%;"><g class="ct-grids"><line x1="50" x2="50" y1="15" y2="93.75" class="ct-grid ct-horizontal"></line><line x1="125" x2="125" y1="15" y2="93.75" class="ct-grid ct-horizontal"></line><line x1="200" x2="200" y1="15" y2="93.75" class="ct-grid ct-horizontal"></line><line x1="275" x2="275" y1="15" y2="93.75" class="ct-grid ct-horizontal"></line><line x1="350" x2="350" y1="15" y2="93.75" class="ct-grid ct-horizontal"></line><line x1="425" x2="425" y1="15" y2="93.75" class="ct-grid ct-horizontal"></line><line x1="500" x2="500" y1="15" y2="93.75" class="ct-grid ct-horizontal"></line></g><g><g class="ct-series ct-series-a"><path d="M50,93.75L50,93.75C75,91.125,100,89.375,125,85.875C150,82.375,175,73.625,200,70.125C225,66.625,250,66.45,275,62.25C300,58.05,325,30.75,350,30.75C375,30.75,400,46.5,425,46.5C450,46.5,475,25.5,500,15L500,93.75Z" class="ct-area"></path><path d="M50,93.75C75,91.125,100,89.375,125,85.875C150,82.375,175,73.625,200,70.125C225,66.625,250,66.45,275,62.25C300,58.05,325,30.75,350,30.75C375,30.75,400,46.5,425,46.5C450,46.5,475,25.5,500,15" class="ct-line"></path><line x1="50" y1="93.75" x2="50.01" y2="93.75" class="ct-point" ct:value="0"></line><line x1="125" y1="85.875" x2="125.01" y2="85.875" class="ct-point" ct:value="10"></line><line x1="200" y1="70.125" x2="200.01" y2="70.125" class="ct-point" ct:value="30"></line><line x1="275" y1="62.25" x2="275.01" y2="62.25" class="ct-point" ct:value="40"></line><line x1="350" y1="30.75" x2="350.01" y2="30.75" class="ct-point" ct:value="80"></line><line x1="425" y1="46.5" x2="425.01" y2="46.5" class="ct-point" ct:value="60"></line><line x1="500" y1="15" x2="500.01" y2="15" class="ct-point" ct:value="100"></line></g></g><g class="ct-labels"><foreignObject style="overflow: visible;" x="50" y="98.75" width="75" height="20"><span class="ct-label ct-horizontal ct-end" xmlns="http://www.w3.org/2000/xmlns/" style="width: 75px; height: 20px;">Mon</span></foreignObject><foreignObject style="overflow: visible;" x="125" y="98.75" width="75" height="20"><span class="ct-label ct-horizontal ct-end" xmlns="http://www.w3.org/2000/xmlns/" style="width: 75px; height: 20px;">Tue</span></foreignObject><foreignObject style="overflow: visible;" x="200" y="98.75" width="75" height="20"><span class="ct-label ct-horizontal ct-end" xmlns="http://www.w3.org/2000/xmlns/" style="width: 75px; height: 20px;">Wed</span></foreignObject><foreignObject style="overflow: visible;" x="275" y="98.75" width="75" height="20"><span class="ct-label ct-horizontal ct-end" xmlns="http://www.w3.org/2000/xmlns/" style="width: 75px; height: 20px;">Thu</span></foreignObject><foreignObject style="overflow: visible;" x="350" y="98.75" width="75" height="20"><span class="ct-label ct-horizontal ct-end" xmlns="http://www.w3.org/2000/xmlns/" style="width: 75px; height: 20px;">Fri</span></foreignObject><foreignObject style="overflow: visible;" x="425" y="98.75" width="75" height="20"><span class="ct-label ct-horizontal ct-end" xmlns="http://www.w3.org/2000/xmlns/" style="width: 75px; height: 20px;">Sat</span></foreignObject><foreignObject style="overflow: visible;" x="500" y="98.75" width="30" height="20"><span class="ct-label ct-horizontal ct-end" xmlns="http://www.w3.org/2000/xmlns/" style="width: 30px; height: 20px;">Sun</span></foreignObject></g></svg></div>
                  </div>
              </div>
          </div>
          <div class="col-12 col-sm-6 col-xl-4 mb-4">
              <div class="card border-light shadow-sm">
                  <div class="card-body">
                      <div class="row d-block d-xl-flex align-items-center">
                          <div class="col-12 col-xl-5 text-xl-center mb-3 mb-xl-0 d-flex align-items-center justify-content-xl-center">
                              <div class="icon icon-shape icon-md icon-shape-blue rounded mr-4 mr-sm-0"><span class="fas fa-chart-line"></span></div>
                          </div>
                          <div class="col-12 col-xl-7 px-xl-0">
                              <div class="d-none d-sm-block">
                                  <h2 class="h5">Earnings (Monthly)</h2>
                                  <h3 class="mb-1">${{ monthly_earnings }}</h3>
                              </div>
                              <div class="small mt-2">                               
                                  <span class="fas fa-angle-up text-success"></span>                                   
                                  <span class="text-success font-weight-bold">18.2%</span> Since last month
                              </div>
                          </div>
                      </div>
                  </div>
              </div>
          </div>
          <div class="col-12 col-sm-6 col-xl-4 mb-4">
              <div class="card border-light shadow-sm">
                  <div class="card-body">
                      <div class="row d-block d-xl-flex align-items-center">
                          <div class="col-12 col-xl-5 text-xl-center mb-3 mb-xl-0 d-flex align-items-center justify-content-xl-center">
                              <div class="icon icon-shape icon-md icon-shape-secondary rounded mr-4"><span class="fas fa-cash-register"></span></div>
                          </div>
                          <div class="col-12 col-xl-7 px-xl-0">
                              <div class="d-none d-sm-block">
                                  <h2 class="h5">Expenses (Monthly)</h2>
                                  <h3 class="mb-1">${{ monthly_expense }}</h3>
                              </div>
                              <div class="small mt-2">                               
                                  <span class="fas fa-angle-up text-success"></span>                                   
                                  <span class="text-success font-weight-bold">28.2%</span> Since last month
                              </div>
                          </div>
                      </div>
                  </div>
              </div>
          </div>
          <div class="col-12 col-sm-6 col-xl-4 mb-4">
            <div class="card border-light shadow-sm">
                <div class="card-body">
                    <div class="row d-block d-xl-flex align-items-center">
                        <canvas id="addedBalanceChart" style="max-width: 400px; max-height: 400px;"></canvas>
                        <!-- <canvas id="addedExpenseChart" style="max-width: 400px; max-height: 400px;"></canvas>    -->
                    </div>
                </div>
            </div>
        </div>
      </div>
      
      <div class="row">
          <div class="col-12 ">
              <div class="row">
                  <div class="col-12 mb-4">
                      <div class="card border-light shadow-sm">
                          <div class="card-header">
                              <div class="row align-items-center">
                                  <div class="col">
                                  <h2 class="h5">Extrato</h2>
                                  </div>
                                  <div class="col text-right">
                                    <form method="POST" action="{% url 'clear_transactions' %}">
                                      {% csrf_token %}
                                      <button type="submit" class="btn btn-danger">Limpar Transações</button>
                                  </form>
                                  </div>
                              </div>
                          </div>
    
      <!-- Formulário para limpar transações -->
      <table class="table">
          <thead>
              <tr>
                  <th>Data</th>
                  <th>Tipo</th>
                  <th>Valor</th>
                  <th>Descrição</th>
              </tr>
          </thead>
          <tbody>
              {% for transaction in transactions %}
                  <tr class="{% if transaction.transaction_type == 'expense' %}bg-danger{% else %}bg-success {% endif %}">
                      <td>{{ transaction.date }}</td>
                      <td>{{ transaction.get_transaction_type_display }}</td>
                      <td>${{ transaction.amount }}</td>
                      <td>{{ transaction.description }}</td>
                  </tr>
              {% empty %}
                  <tr>
                      <td colspan="4">Nenhuma transação encontrada.</td>
                  </tr>
              {% endfor %}
          </tbody>
      </table>
      </div>
            <ul class="pagination">
              <li class="page-item"><a class="page-link" href="#">Previous</a></li>
              <li class="page-item active"><a class="page-link" href="#">1</a></li>
              <li class="page-item"><a class="page-link" href="#">2</a></li>
              <li class="page-item"><a class="page-link" href="#">3</a></li>
              <li class="page-item"><a class="page-link" href="#">Next</a></li>
            </ul>
          </div>
      </div>
  </main>

  <script src="{% static 'chat.js' %}" type="text/javascript"></script>

  <script>
    // Obtém os valores de saldo adicionados e saídas adicionadas do contexto do template
    var addedBalanceData = {
        labels: ["Earnings", "Expenses"],
        datasets: [{
            label: 'Added Balance',
            data: [{{ monthly_earnings }}, {{ monthly_expense }}],
            backgroundColor: [
                'rgba(75, 192, 192, 0.2)',
                'rgba(255, 99, 132, 0.2)'
            ],
            borderColor: [
                'rgba(75, 192, 192, 1)',
                'rgba(255, 99, 132, 1)'
            ],
            borderWidth: 1
        }]
    };

    var addedBalanceOptions = {
        scales: {
            y: {
                beginAtZero: true
            }
        }
    };

    // Cria o gráfico de saldo adicionado
    var addedBalanceChart = new Chart(document.getElementById('addedBalanceChart'), {
        type: 'pie',
        data: addedBalanceData,
        options: addedBalanceOptions
    });

    // Cria o gráfico de saídas adicionadas
    var addedExpenseData = {
        labels: ["Expenses"],
        datasets: [{
            label: 'Added Expenses',
            data: [{{ monthly_expense }}],
            backgroundColor: [
                'rgba(255, 99, 132, 0.2)'
            ],
            borderColor: [
                'rgba(255, 99, 132, 1)'
            ],
            borderWidth: 1
        }]
    };

    var addedExpenseOptions = {
        scales: {
            y: {
                beginAtZero: true
            }
        }
    };

    var addedExpenseChart = new Chart(document.getElementById('addedExpenseChart'), {
        type: 'pie',
        data: addedExpenseData,
        options: addedExpenseOptions
    });

    // Obtém os dados de diferença ao longo do tempo do contexto do template
    var differenceOverTimeData = {
        labels: ["January", "February", "March", "April", "May", "June"],
        datasets: [{
            label: 'Difference Over Time',
            data: [100, 200, 300, 400, 500, 600], // Substitua esses valores pelos seus dados reais
            backgroundColor: 'rgba(54, 162, 235, 0.2)',
            borderColor: 'rgba(54, 162, 235, 1)',
            borderWidth: 1
        }]
    };

    var differenceOverTimeOptions = {
        scales: {
            y: {
                beginAtZero: true
            }
        }
    };



// calculadora

    let currentOperand = '';
        let previousOperand = '';
        let operation = undefined;

        function appendNumber(number) {
            if (number === 0 && currentOperand === '') return;
            currentOperand = currentOperand.toString() + number.toString();
            updateDisplay();
        }

        function chooseOperation(op) {
            if (currentOperand === '') return;
            if (previousOperand !== '') {
                compute();
            }
            operation = op;
            previousOperand = currentOperand;
            currentOperand = '';
        }

        function compute() {
            let computation;
            const prev = parseFloat(previousOperand);
            const current = parseFloat(currentOperand);
            if (isNaN(prev) || isNaN(current)) return;
            switch (operation) {
                case 'soma':
                    computation = prev + current;
                    break;
                case 'subtracao':
                    computation = prev - current;
                    break;
                case 'multiplicacao':
                    computation = prev * current;
                    break;
                case 'divisao':
                    computation = prev / current;
                    break;
                default:
                    return;
            }
            currentOperand = computation;
            operation = undefined;
            previousOperand = '';
            updateDisplay();
        }

        function clearDisplay() {
            currentOperand = '';
            previousOperand = '';
            operation = undefined;
            updateDisplay();
        }

        function updateDisplay() {
            document.getElementById('display').innerText = currentOperand || '0';
        }

</script>
  
  <!-- Core -->
  <script src="https://appsrv1-147a1.kxcdn.com/volt-dashboard/vendor/popper.js/dist/umd/popper.min.js"></script>
  <script src="https://appsrv1-147a1.kxcdn.com/volt-dashboard/vendor/bootstrap/dist/js/bootstrap.min.js"></script>
  
  <!-- Vendor JS -->
  <script src="https://appsrv1-147a1.kxcdn.com/volt-dashboard/vendor/onscreen/dist/on-screen.umd.min.js"></script>
  
  <!-- Slider -->
  <script src="https://appsrv1-147a1.kxcdn.com/volt-dashboard/vendor/nouislider/distribute/nouislider.min.js"></script>
  
  <!-- Jarallax -->
  <script src="https://appsrv1-147a1.kxcdn.com/volt-dashboard/vendor/jarallax/dist/jarallax.min.js"></script><div style="position: fixed; top: -9999px; left: 0px; height: 100vh; width: 0px;"></div>
  
  <!-- Smooth scroll -->
  <script src="https://appsrv1-147a1.kxcdn.com/volt-dashboard/vendor/smooth-scroll/dist/smooth-scroll.polyfills.min.js"></script>
  
  <!-- Count up -->
  <script src="https://appsrv1-147a1.kxcdn.com/volt-dashboard/vendor/countup.js/dist/countUp.umd.js"></script>
  
  <!-- Notyf -->
  <script src="https://appsrv1-147a1.kxcdn.com/volt-dashboard/vendor/notyf/notyf.min.js"></script>
  
  <!-- Charts -->
  <script src="https://appsrv1-147a1.kxcdn.com/volt-dashboard/vendor/chartist/dist/chartist.min.js"></script>
  <script src="https://appsrv1-147a1.kxcdn.com/volt-dashboard/vendor/chartist-plugin-tooltips/dist/chartist-plugin-tooltip.min.js"></script>
  
  <!-- Datepicker -->
  <script src="https://appsrv1-147a1.kxcdn.com/volt-dashboard/vendor/vanillajs-datepicker/dist/js/datepicker.min.js"></script>
  
  <!-- Simplebar -->
  <script src="https://appsrv1-147a1.kxcdn.com/volt-dashboard/vendor/simplebar/dist/simplebar.min.js"></script>

  <!-- Github buttons -->
  <script async="" defer="" src="https://buttons.github.io/buttons.js"></script>

  <!-- Volt JS -->
  <script src="https://appsrv1-147a1.kxcdn.com/volt-dashboard/js/volt.min.js"></script>
  
  
  <!-- Specific Page JS goes HERE  -->
  



</body>

</html>